<div id="user-needs"<%= ' class="has-error"'.html_safe if f.object.errors[:formatted_user_needs].any? %>>
  <div id="whitehall">
    <div class="form-group checkbox">
      <span class="form-label control-label">
        <%= f.label :user_needs, "Whitehall user accounts" %>
      </span>
      <span class="form-wrapper">
        <%= f.collection_radio_buttons :user_needs, f.object.whitehall_account_options, :last, :last do |builder| %>
          <div class="radio">
            <%= builder.label(class: "custom-control-label") do %>
              <%= builder.radio_button(class: "custom-control-input") %>
              <%= builder.object.first %>
            <% end %>
          </div>
        <% end %>
      </span>
    </div>

    <div class="request-permissions-note">
      A managing editor can also:
      <ul>
        <li>unpublish and withdraw your organisationâ€™s content</li>
        <li>request changes to user accounts</li>
        <li>request new campaigns, organisations and groups</li>
      </ul>
    </div>
  </div>

  <div id="other_permissions">
    <%= f.label :other_permissions, "Other GOV.UK permissions", class: "control-label" %>
    <div class="form-group checkbox">
      <span class="form-wrapper">
        <%= f.label :mainstream_changes, class: "control-label" do %>
          <%= f.check_box :mainstream_changes %>
          <%= f.object.other_permissions_options.key('mainstream_changes') %>
        <% end %>
      </span>
    </div>

    <div class="form-group checkbox">
      <span class="form-wrapper">
        <%= f.label :maslow, class: "control-label" do %>
          <%= f.check_box :maslow %>
          <%= f.object.other_permissions_options.key('maslow') %>
        <% end %>
      </span>
    </div>

    <%= f.label :sigon_permissions, "Signon permissions", class: "control-label" %>
    <div class="form-group checkbox">
      <span class="form-wrapper">
        <%= f.label :become_organisation_admin, class: "control-label" do %>
          <%= f.check_box :become_organisation_admin %>
          <%= f.object.other_permissions_options.key('become_organisation_admin') %>
        <% end %>
      </span>
    </div>

    <div class="request-permissions-note">
      As an organisation admin you can:
      <ul>
        <li>grant and revoke permissions for some applications to users in your organisation</li>
        <li>unsuspend your organisation's accounts</li>
      </ul>
    </div>

    <div class="form-group checkbox">
      <span class="form-wrapper">
        <%= f.label :become_super_organisation_admin, class: "control-label" do %>
          <%= f.check_box :become_super_organisation_admin %>
          <%= f.object.other_permissions_options.key('become_super_organisation_admin') %>
        <% end %>
      </span>
    </div>

    <div class="request-permissions-note">
      As a super organisation admin you can manage accounts like an organisation admin for both:
      <ul>
        <li>your own organisation</li>
        <li>for all related organisations that are modelled under your organisation</li>
      </ul>
    </div>

    <div class="form-group">
      <span class="form-label control-label">
        <%= f.label :other_details, "Other, give details" %>
      </span>
      <span class="form-wrapper">
        <%= f.text_field :other_details, class: "input-md-6 form-control" %>
      </span>
    </div>
  </div>

  <% if f.object.errors[:formatted_user_needs].any? %>
    <span class="help-block">
      <%= f.object.errors[:formatted_user_needs].to_sentence %>
    </span>
  <% end %>
</div>
