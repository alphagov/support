<%= f.fields_for :time_constraint do |r| %>
  <fieldset>
    <legend>
      <span>Are there any time constraints? (Optional)</span>
    </legend>

    <div class="form-group">
      <span class="form-label">
        <%= r.label :needed_by_date, "Deadline" %>
      </span>
      <span class="form-wrapper">
        <%= r.text_field :needed_by_date, required: false, placeholder: "dd-mm-yyyy", value: r.object.needed_by_date, class: "input-md-2 form-control", data: { module: "calendar", format: "dd-mm-yy", min_date: 0 } %>
      </span>
    </div>

    <div class="form-group">
      <span class="form-label">
        <%= r.label :needed_by_time, "Time this must be published by" %>
      </span>
      <span class="form-wrapper">
        <%= r.time_field :needed_by_time, required: false, placeholder: "HH:MM", value: r.object.not_before_time, class: "input-md-2 form-control" %>
      </span>
    </div>

    <div class="form-group">
      <span class="form-label">
        <%= r.label :not_before_date, "Must not be published before" %>
      </span>
      <span class="form-wrapper">
        <%= r.text_field :not_before_date, required: false, placeholder: "dd-mm-yyyy", value: r.object.not_before_date, class: "input-md-2 form-control", data: { module: "calendar", format: "dd-mm-yy", min_date: 0 } %>
      </span>
    </div>

    <div class="form-group">
      <span class="form-label">
        <%= r.label :not_before_time, "Time this must not be published before" %>
      </span>
      <span class="form-wrapper">
        <%= r.time_field :not_before_time, required: false, placeholder: "HH:MM", value: r.object.not_before_time, class: "input-md-2 form-control" %>
      </span>
    </div>

    <div class="form-group">
      <span class="form-label">
        <%= r.label :time_constraint_reason, "Reason for deadline" %>
      </span>
      <div class="help-block hint-block--md-6" id="reason-for-deadline-hint">
        <p>For example, policy or campaign launch, start of the new tax year.</p>
      </div>
      <span class="form-wrapper">
        <%= r.text_area :time_constraint_reason, required: false, class: "input-md-6 form-control", rows: 6, cols: 50, aria: {
          describedby: "reason-for-deadline-hint"
        } %>
      </span>
    </div>
  </fieldset>
<% end %>
